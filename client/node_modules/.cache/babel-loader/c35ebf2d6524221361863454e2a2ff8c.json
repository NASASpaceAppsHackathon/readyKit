{"ast":null,"code":"import _classCallCheck from \"/Users/shivaniaggarwal/Desktop/readyKit/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/shivaniaggarwal/Desktop/readyKit/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/shivaniaggarwal/Desktop/readyKit/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/shivaniaggarwal/Desktop/readyKit/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/shivaniaggarwal/Desktop/readyKit/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/shivaniaggarwal/Desktop/readyKit/client/src/components/checklist.js\";\nimport React, { Component } from 'react';\nimport style from './checklist.module.css'; // import { library } from '@fortawesome/fontawesome-svg-core'\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n/**\r\n * How to use this component:\r\n * <Checklist title=\"My Checklist\"\r\n              list_id=\"earthquake\"           // must match one of the 4 IDs in checklist.json\r\n              />\r\n */\n\nvar Checklist =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Checklist, _Component);\n\n  function Checklist(props) {\n    var _this;\n\n    _classCallCheck(this, Checklist);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Checklist).call(this, props));\n    _this.state = {\n      list: []\n    };\n    return _this;\n  }\n\n  _createClass(Checklist, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var thisObj = this;\n      axios.get('/api/' + thisObj.props.list_id).then(function (res) {\n        thisObj.setState({\n          list: res.data\n        });\n        console.log(thisObj.state.list);\n      }).catch(function (err) {\n        return console.log(err.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      window.addEventListener('load', function () {\n        var textarea = window.document.getElementsByTagName('textarea');\n\n        if (textarea != null) {\n          Array.from(textarea).forEach(function (t) {\n            t.style.height = t.scrollHeight + 'px';\n            t.addEventListener('keypress', function () {\n              if (t.scrollTop != 0) {\n                t.style.height = t.scrollHeight + 'px';\n              }\n            }, false);\n          });\n        }\n      }, false);\n      var thisObj = this;\n      var list = [];\n\n      function showList() {\n        // add all list items\n        console.log('showlist');\n        var i = 0;\n        thisObj.state.list.forEach(function (item) {\n          var index = i;\n          list.push(React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }, React.createElement(FontAwesomeIcon, {\n            icon: faCheckSquare,\n            className: style.checkSquareIcon,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 74\n            },\n            __self: this\n          }, React.createElement(\"textarea\", {\n            value: thisObj.state.list[index],\n            className: style.inputTextBox,\n            onChange: function onChange(e) {\n              return changeText(e, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75\n            },\n            __self: this\n          })), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81\n            },\n            __self: this\n          }, React.createElement(FontAwesomeIcon, {\n            icon: faTimes,\n            className: style.timesIcon,\n            onClick: function onClick(e) {\n              return deleteItem(e, index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82\n            },\n            __self: this\n          }))));\n          i++;\n        });\n      } // change list values on user input\n\n\n      function changeText(event, i) {\n        var list_items = thisObj.state.list;\n\n        for (var j = 0; j < thisObj.state.list.length; j++) {\n          if (j === i) {\n            list_items[j] = event.target.value;\n          }\n        }\n\n        thisObj.setState({\n          list: list_items\n        });\n      } // delete list value\n\n\n      function deleteItem(event, i) {\n        var list_items = thisObj.state.list;\n        list_items.splice(i, 1);\n        thisObj.setState({\n          list: list_items\n        });\n      } // add an empty row to list\n\n\n      function addNew() {\n        console.log('add new'); // add new empty string to state\n\n        var list = thisObj.state.list;\n        list.push('');\n        thisObj.setState({\n          list: list\n        });\n      } // save list into checklist.json file\n\n\n      function saveList() {\n        console.log(thisObj.state);\n        axios.post('/api/' + thisObj.props.list_id, thisObj.state.list).then(function (res) {\n          console.log(res);\n          console.log(thisObj.state.list);\n        }).catch(function (err) {\n          return console.log(err.message);\n        });\n      }\n\n      showList();\n      return React.createElement(\"div\", {\n        className: style.checklistComponent,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: style.listTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, this.props.title), React.createElement(\"table\", {\n        className: style.listTable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        id: \"list-items\",\n        className: style.listItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, list)), React.createElement(\"div\", {\n        className: style.centerItems,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: addNew,\n        className: style.addNewButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, \"Add new\"), React.createElement(\"button\", {\n        onClick: saveList,\n        className: style.saveButton,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, \"Save\")));\n    }\n  }]);\n\n  return Checklist;\n}(Component);\n\nexport default Checklist;","map":{"version":3,"sources":["/Users/shivaniaggarwal/Desktop/readyKit/client/src/components/checklist.js"],"names":["React","Component","style","FontAwesomeIcon","faTimes","faCheckSquare","axios","Checklist","props","state","list","thisObj","get","list_id","then","res","setState","data","console","log","catch","err","message","window","addEventListener","textarea","document","getElementsByTagName","Array","from","forEach","t","height","scrollHeight","scrollTop","showList","i","item","index","push","checkSquareIcon","inputTextBox","e","changeText","timesIcon","deleteItem","event","list_items","j","length","target","value","splice","addNew","saveList","post","checklistComponent","listTitle","title","listTable","listItem","centerItems","addNewButton","saveButton"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport style from './checklist.module.css'\r\n// import { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes, faCheckSquare } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\n/**\r\n * How to use this component:\r\n * <Checklist title=\"My Checklist\"\r\n              list_id=\"earthquake\"           // must match one of the 4 IDs in checklist.json\r\n              />\r\n */\r\n\r\nclass Checklist extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      list: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    let thisObj = this\r\n    axios\r\n      .get('/api/' + thisObj.props.list_id)\r\n      .then(res => {\r\n        thisObj.setState({\r\n          list: res.data\r\n        })\r\n        console.log(thisObj.state.list)\r\n      })\r\n      .catch(err => console.log(err.message))\r\n  }\r\n\r\n  render() {\r\n    window.addEventListener(\r\n      'load',\r\n      function() {\r\n        let textarea = window.document.getElementsByTagName('textarea')\r\n        if (textarea != null) {\r\n            Array.from(textarea).forEach (t => {\r\n                t.style.height = t.scrollHeight + 'px'\r\n                t.addEventListener('keypress', function() {\r\n                    if (t.scrollTop != 0) {\r\n                        t.style.height = t.scrollHeight + 'px'\r\n                    }\r\n                },\r\n                  false\r\n                )\r\n            });          \r\n        }\r\n      },\r\n      false\r\n    )\r\n\r\n    let thisObj = this\r\n    let list = []\r\n\r\n    function showList() {\r\n      // add all list items\r\n      console.log('showlist')\r\n      let i = 0\r\n      thisObj.state.list.forEach(item => {\r\n        const index = i\r\n        list.push(\r\n          <tr>\r\n            <td>\r\n              <FontAwesomeIcon\r\n                icon={faCheckSquare}\r\n                className={style.checkSquareIcon}\r\n              />\r\n            </td>\r\n            <td>\r\n              <textarea\r\n                value={thisObj.state.list[index]}\r\n                className={style.inputTextBox}\r\n                onChange={e => changeText(e, index)}\r\n              />\r\n            </td>\r\n            <td>\r\n              <FontAwesomeIcon\r\n                icon={faTimes}\r\n                className={style.timesIcon}\r\n                onClick={e => deleteItem(e, index)}\r\n              />\r\n            </td>\r\n          </tr>\r\n        )\r\n        i++\r\n      })\r\n    }\r\n\r\n    // change list values on user input\r\n    function changeText(event, i) {\r\n      let list_items = thisObj.state.list\r\n      for (let j = 0; j < thisObj.state.list.length; j++) {\r\n        if (j === i) {\r\n          list_items[j] = event.target.value\r\n        }\r\n      }\r\n      thisObj.setState({\r\n        list: list_items\r\n      })\r\n    }\r\n\r\n    // delete list value\r\n    function deleteItem(event, i) {\r\n      let list_items = thisObj.state.list\r\n      list_items.splice(i, 1)\r\n\r\n      thisObj.setState({\r\n        list: list_items\r\n      })\r\n    }\r\n\r\n    // add an empty row to list\r\n    function addNew() {\r\n      console.log('add new')\r\n      // add new empty string to state\r\n      let list = thisObj.state.list\r\n      list.push('')\r\n      thisObj.setState({\r\n        list: list\r\n      })\r\n    }\r\n\r\n    // save list into checklist.json file\r\n    function saveList() {\r\n      console.log(thisObj.state)\r\n      axios\r\n        .post('/api/' + thisObj.props.list_id, thisObj.state.list)\r\n        .then(res => {\r\n          console.log(res)\r\n          console.log(thisObj.state.list)\r\n        })\r\n        .catch(err => console.log(err.message))\r\n    }\r\n\r\n    showList()\r\n\r\n    return (\r\n      <div className={style.checklistComponent}>\r\n        <div className={style.listTitle}>{this.props.title}</div>\r\n        <table className={style.listTable}>\r\n          <tbody id=\"list-items\" className={style.listItem}>\r\n            {list}\r\n          </tbody>\r\n        </table>\r\n        <div className={style.centerItems}>\r\n          <button onClick={addNew} className={style.addNewButton}>\r\n            Add new\r\n          </button>\r\n          <button onClick={saveList} className={style.saveButton}>\r\n            Save\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Checklist\r\n"]},"metadata":{},"sourceType":"module"}